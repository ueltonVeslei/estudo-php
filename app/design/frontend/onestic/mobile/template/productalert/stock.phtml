<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2009 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php if ($this->isShow()): ?>
    <div class="__wishlist-box"> <input type="email" value="" name="EMAIL" class="__email-field" id="__email-field" title="" placeholder="Avise-me quando disponÃ­vel."> <input type="submit" value="Subscribe" name="subscribe" id="__subscribe-button" class=""></div>
    <script>
        if (window.jQuery) {
            (function ($) {
                $(document).ready(function () {
                    $('#__email-field').click(function () {
                        $(this).addClass("active");
                        $(this).attr('placeholder', 'Digite o E-mail...');
                        $('#__subscribe-button').addClass("show");
                    });
                    $('#__subscribe-button').on('click', function () {
                        $(this).removeClass('show');
                        $('#__email-field').removeClass("active");
                        //$('#__email-field').val('').attr('placeholder', 'Salvar...');
                        $.get("https://api.edrone.me/topic_observe", {
                            app_id: "5aa02d87f1368",
                            email: $('#__email-field').val(),
                            topic_id: "example_topic_id",
                            topic_category_id: 0
                        }).done(function (data) {
                            $('#__email-field').val('').attr('placeholder', 'Confirme se o registro tem um email...');
                        });
                    });
                });
            })(window.jQuery);
        }
        var css = '.__email-field,.__email-field.active{outline:0;color:#000;text-align:left}.__wishlist-box{float:left;}.__wishlist-box input{float:left;margin-right:5px}.__email-field{display:inline-block;float: left; background: #FF7F0B; border-radius: 7px 1px; text-align: center; margin-bottom: 25px; width: 510px; color: #fff;padding:1.8em 1.8em 1.2em;border:none;cursor:pointer;-webkit-transition:all .1s linear;-moz-transition:all .1s linear;transition:all .1s linear}.__email-field:hover{background-color:#FF7F0B}.__email-field::-webkit-input-placeholder{color:#fff;font-size:20px;font-weight:300}.__email-field::-moz-placeholder{color:#fff;font-size:20px;font-weight:300}.__email-field:-ms-input-placeholder{color:#fff;font-size:20px;font-weight:300}.__email-field:-moz-placeholder{color:#fff;font-size:20px;font-weight:300}.__email-field.active{width:460px;cursor:inherit}#__subscribe-button{width:35px;height:35px;border:none;text-indent:-9999px;opacity:.25;background:url(https://d3vhsxl1pwzf0p.cloudfront.net/images/wishlist/arrow-circle-on-right.svg) 0 1px no-repeat;background-size:13px;-webkit-transition:all .2s linear;-moz-transition:all .2s linear;transition:all .2s linear;cursor:pointer;display:none}#__subscribe-button:hover{opacity:.33}#__subscribe-button.show{display:inline-block;background-size:33px;margin-top:10px}.product-shop .alert-stock{display:none;}',
            head = document.head || document.getElementsByTagName('head')[0],
            style = document.createElement('style');
        style.type = 'text/css';
        if (style.styleSheet) {
            style.styleSheet.cssText = css;
        } else {
            style.appendChild(document.createTextNode(css));
        }
        head.appendChild(style);
    </script>
<?php endif; ?>
