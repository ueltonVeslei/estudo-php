<?xml version="1.0" encoding="UTF-8"?>
<layout>
	<default>
	</default>

	<checkout_onepage_index>
		<update handle="onestic_checkout_onepage_index" />
	</checkout_onepage_index>

	<onestic_checkout_onepage_index>
		<reference name="head">
			<action method="addJs">
				<file>onestic/checkout/jquery-1.7.2.min.js</file>
			</action>
			<action method="addJs">
				<file>onestic/checkout/jquery-ui-1.8.20.custom.min.js</file>
			</action>
			<action method="addCss">
				<stylesheet>onestic/checkout/ui-lightness/jquery-ui-1.8.20.custom.css</stylesheet>
			</action>
			<action method="addJs">
				<file>onestic/checkout/jquery.maskedinput-1.3.min.js</file>
			</action>
			<action method="addJs">
				<file>onestic/checkout/jquery.validate.min.js</file>
			</action>
			<action method="addJs">
				<file>onestic/checkout/jquery.validate.creditcard2-1.0.1.js</file>
			</action>
			<action method="addItem">
				<type>skin_js</type>
				<name>onestic/checkout/js/validation.js</name>
			</action>
			<action method="addItem">
				<type>skin_js</type>
				<name>onestic/checkout/bootstrap/css/bootstrap.min.css</name>
			</action>
			<action method="removeItem">
				<type>skin_js</type>
				<name>opcheckout.js</name>
			</action>
			<action method="addJs">
				<file>onestic/checkout/opcheckout.js</file>
			</action>
			<action method="addCss">
				<stylesheet>onestic/checkout/css/style.css</stylesheet>
			</action>
			<action method="addCss">
				<stylesheet>onestic/checkout/bootstrap/css/bootstrap.min.css</stylesheet>
			</action>
			<action method="removeItem">
				<type>skin_css</type>
				<name>css/styles.css</name>
			</action>
			<action method="removeItem">
				<type>skin_css</type>
				<name>css/styles-ie.css</name>
			</action>
			<action method="removeItem">
				<type>skin_css</type>
				<name>css/widgets.css</name>
			</action>
			<action method="removeItem">
				<type>skin_css</type>
				<name>css/print.css</name>
			</action>
		</reference>

		<reference name="root">
			<action method="setTemplate">
				<template>onestic/checkout/1column.phtml</template>
			</action>
		</reference>

		<reference name="content">

			<action method="unsetChildren"></action>

			<block type="page/html_wrapper" name="checkout.progress.wrapper" translate="label">
				<label>Checkout Progress Wrapper</label>
				<action method="setElementId">
					<value>checkout-progress-wrapper</value>
				</action>
				<block type="checkout/onepage_progress" name="checkout.progress" before="-" template="onestic/checkout/onepage/progress.phtml"/>
			</block>

			<block type="checkout/onepage" name="checkout.onepage" template="onestic/checkout/onepage.phtml">
				<block type="onestic_checkout/onepage_shipping" name="checkout.onepage.shipping" as="shipping" template="onestic/checkout/onepage/shipping.phtml">
					<block type="checkout/onepage_login" name="checkout.onepage.login" as="login" template="onestic/checkout/onepage/login.phtml">
						<block type="page/html_wrapper" name="checkout.onepage.login.before" as="login_before" translate="label">
							<label>Login/Registration Before</label>
							<action method="setMayBeInvisible">
								<value>1</value>
							</action>
						</block>
					</block>
					<block type="checkout/onepage_shipping_method" name="checkout.onepage.shipping_method" as="shipping_method" template="onestic/checkout/onepage/shipping_method.phtml">
						<block type="checkout/onepage_shipping_method_available" name="checkout.onepage.shipping_method.available" as="available" template="onestic/checkout/onepage/shipping_method/available.phtml"/>
						<block type="checkout/onepage_shipping_method_additional" name="checkout.onepage.shipping_method.additional" as="additional" template="onestic/checkout/onepage/shipping_method/additional.phtml"/>
					</block>
				</block>
				<block type="checkout/onepage_shipping_method" name="checkout.onepage.shipping_method" as="shipping_method" template="onestic/checkout/onepage/shipping_method.phtml">
					<block type="checkout/onepage_shipping_method_available" name="checkout.onepage.shipping_method.available" as="available" template="onestic/checkout/onepage/shipping_method/available.phtml"/>
					<block type="checkout/onepage_shipping_method_additional" name="checkout.onepage.shipping_method.additional" as="additional" template="onestic/checkout/onepage/shipping_method/additional.phtml"/>
				</block>
				<block type="checkout/onepage_payment" name="checkout.onepage.payment" as="payment" template="onestic/checkout/onepage/payment.phtml">
					<block type="checkout/onepage_payment_methods" name="checkout.payment.methods" as="methods" template="onestic/checkout/onepage/payment/methods.phtml">
						<action method="setMethodFormTemplate">
							<method>purchaseorder</method>
							<template>payment/form/purchaseorder.phtml</template>
						</action>
						<action method="setMethodFormTemplate">
							<method>ccsave</method>
							<template>onestic/checkout/onepage/payment/form/ccsave.phtml</template>
						</action>
					</block>
					<block type="onestic_checkout/onepage_billing" name="checkout.onepage.billing" as="billing" template="onestic/checkout/onepage/billing.phtml"/>
				</block>
				<block type="checkout/onepage_review" name="checkout.onepage.review" as="review" template="onestic/checkout/onepage/review.phtml" />
			</block>
		</reference>
		<reference name="stripejs">
			<action method="setTemplate">
				<template>onestic/checkout/stripe/js.phtml</template>
			</action>
		</reference>
	</onestic_checkout_onepage_index>

	<!--
	One page checkout progress block
-->

<onestic_checkout_onepage_progress>
	<!-- Mage_Checkout -->
	<remove name="right"/>
	<remove name="left"/>

	<block type="checkout/onepage_progress" name="root" output="toHtml" template="onestic/checkout/onepage/progress.phtml">
		<block type="checkout/onepage_payment_info" name="payment_info">
			<action method="setInfoTemplate">
				<method></method>
				<template></template>
			</action>
		</block>
		<block type="core/template" name="checkout.onepage.review.button" as="button" template="onestic/checkout/onepage/review/button.phtml"/>
		<block type="core/text_list" name="progress_review_after"  />
		<block type="checkout/cart_coupon" name="checkout.onepage.coupon" as="coupon" template="onestic/checkout/cart/coupon.phtml"/>
	</block>
</onestic_checkout_onepage_progress>

	<!--
	One page checkout payment methods block
-->

<onestic_checkout_onepage_paymentmethod>
	<remove name="right"/>
	<remove name="left"/>

	<block type="checkout/onepage_payment" name="root" output="toHtml" template="onestic/checkout/onepage/payment.phtml">
		<block type="core/text_list" name="paymentmethod_form_before" as="paymentmethod_form_before" />
		<block type="checkout/onepage_payment_methods" name="checkout.payment.methods" as="methods" template="onestic/checkout/onepage/payment/methods.phtml">
			<action method="setMethodFormTemplate">
				<method>purchaseorder</method>
				<template>payment/form/purchaseorder.phtml</template>
			</action>
			<action method="setMethodFormTemplate">
				<method>ccsave</method>
				<template>onestic/checkout/onepage/payment/form/ccsave.phtml</template>
			</action>
			<action method="setMethodFormTemplate">
				<method>braintree</method>
				<template>onestic/checkout/braintree/form.phtml</template>
			</action>
			<action method="setMethodFormTemplate">
				<method>sagepaydirectpro</method>
				<template>onestic/checkout/sagepay/sagePayDirectProWithToken.phtml</template>
			</action>
			<action method="setMethodFormTemplate">
				<method>cybersource_soap</method>
				<template>onestic/checkout/cybersource/form.phtml</template>
			</action>
			<action method="setMethodFormTemplate">
				<method>ops_cc</method>
				<template>onestic/checkout/ogone/form.phtml</template>
			</action>
		</block>
		<block type="checkout/onepage_billing" name="checkout.onepage.billing" as="billing" template="onestic/checkout/onepage/billing.phtml" />
		<block type="core/text_list" name="paymentmethod_form_after" as="paymentmethod_form_after" />
	</block>
</onestic_checkout_onepage_paymentmethod>

	<!--
	One page checkout shipping methods block
-->

<checkout_onepage_shippingmethod>
	<!-- Mage_Checkout -->
	<remove name="right"/>
	<remove name="left"/>

	<block type="checkout/onepage_shipping_method_available" name="root" output="toHtml" template="onestic/checkout/onepage/shipping_method/available.phtml"/>
</checkout_onepage_shippingmethod>

<checkout_onepage_additional>
	<!-- Mage_Checkout -->
	<remove name="right"/>
	<remove name="left"/>

	<block type="checkout/onepage_shipping_method_additional" name="root" output="toHtml" template="onestic/checkout/onepage/shipping_method/additional.phtml">
		<action method="setDontDisplayContainer">
			<param>1</param>
		</action>
	</block>
</checkout_onepage_additional>

	<!--
	One page checkout order review block
-->

<checkout_onepage_review translate="label">
	<label>One Page Checkout Overview</label>
	<remove name="right"/>
	<remove name="left"/>

	<block type="checkout/onepage_review_info" name="root" output="toHtml" template="onestic/checkout/onepage/review/info.phtml">
		<action method="addItemRender">
			<type>default</type>
			<block>checkout/cart_item_renderer</block>
			<template>onestic/checkout/onepage/review/item.phtml</template>
		</action>
		<action method="addItemRender">
			<type>grouped</type>
			<block>checkout/cart_item_renderer_grouped</block>
			<template>onestic/checkout/onepage/review/item.phtml</template>
		</action>
		<action method="addItemRender">
			<type>configurable</type>
			<block>checkout/cart_item_renderer_configurable</block>
			<template>onestic/checkout/onepage/review/item.phtml</template>
		</action>
		<block type="checkout/cart_totals" name="checkout.onepage.review.info.totals" as="totals" template="checkout/onepage/review/totals.phtml"/>
		<block type="core/text_list" name="checkout.onepage.review.info.items.before" as="items_before" translate="label">
			<label>Items Before</label>
		</block>
		<block type="core/text_list" name="checkout.onepage.review.info.items.after" as="items_after" translate="label">
			<label>Items After</label>
			<block type="directpost/form" name="payment.form.directpost" template="onestic/checkout/authorizenet/directpost/form.phtml">
				<action method="setMethodInfo"></action>
			</block>
		</block>
		<block type="checkout/cart_coupon" name="checkout.onepage.coupon" as="coupon" template="onestic/checkout/cart/coupon.phtml"/>
		<block type="checkout/onepage_shipping_method_additional" name="additional" template="onestic/checkout/onepage/shipping_method/additional.phtml">
			<action method="setDontDisplayContainer">
				<param>0</param>
			</action>
		</block>
		<block type="checkout/agreements" name="checkout.onepage.agreements" as="agreements" template="onestic/checkout/onepage/agreements.phtml">
			<block type="core/text_list" name="agreements_after" as="agreements_after" />
		</block>
		<block type="core/template" name="checkout.onepage.newsletter" as="newsletter" template="onestic/checkout/onepage/review/newsletter.phtml"/>
		<block type="core/template" name="checkout.onepage.review.button" as="button" template="onestic/checkout/onepage/review/button.phtml"/>
	</block>
</checkout_onepage_review>

<onestic_checkout_braintree_checkout_onepage_review>
	<reference name="payment.form.braintree">
		<action method="setTemplate">
			<template>onestic/checkout/braintree/review_js.phtml</template>
		</action>
	</reference>
</onestic_checkout_braintree_checkout_onepage_review>
<onestic_checkout_braintree_payments_checkout_onepage_review>
	<reference name="payment.form.braintree">
		<action method="setTemplate">
			<template>onestic/checkout/braintree/payments/review_js.phtml</template>
		</action>
	</reference>
</onestic_checkout_braintree_payments_checkout_onepage_review>

<onestic_checkout_sagepay_checkout_onepage_review>
	<reference name="root">
		<action method="setTemplate">
			<template>onestic/checkout/onepage/review/info.phtml</template>
		</action>
	</reference>
</onestic_checkout_sagepay_checkout_onepage_review>

<customer_account_login>
	<reference name="root">
		<action method="setTemplate">
			<template>onestic/checkout/1column.phtml</template>
		</action>
	</reference>
	<reference name="head">
		<action method="addItem">
			<type>skin_js</type>
			<name>onestic/checkout/js/validation.js</name>
		</action>
		<action method="addItem">
			<type>skin_css</type>
			<name>inchoo_socialconnect/css/styles.css</name>
		</action>
		<action method="addItem">
			<type>skin_css</type>
			<name>onestic/checkout/bootstrap/css/bootstrap.min.css</name>
		</action>

		<action method="addItem">
			<type>skin_css</type>
			<name>onestic/checkout/css/style.css</name>
		</action>
	</reference>
	<reference name="content">
		<reference name="customer_form_login">
			<action method="setTemplate">
				<template>onestic/checkout/persistent/customer/form/login.phtml</template>
			</action>
			<block type="inchoo_socialconnect/login" name="inchoo_socialconnect_login">
				<block type="inchoo_socialconnect/google_button" name="inchoo_socialconnect_google_login_button" />
				<block type="inchoo_socialconnect/facebook_button" name="inchoo_socialconnect_facebook_login_button" />
				<block type="inchoo_socialconnect/twitter_button" name="inchoo_socialconnect_twitter_login_button" />
			</block>
			<block type="inchoo_socialconnect/facebook_button" name="inchoo_socialconnect_facebook_login_button" />
		</reference>
	</reference>

</customer_account_login>

<customer_account_create translate="label">
	<reference name="root">
		<action method="setTemplate">
			<template>onestic/checkout/1column.phtml</template>
		</action>
	</reference>

	<reference name="head">
		<action method="addItem">
			<type>skin_js</type>
			<name>onestic/checkout/js/validation.js</name>
		</action>

		<action method="addItem">
			<type>skin_css</type>
			<name>onestic/checkout/css/style.css</name>
		</action>

		<action method="addItem">
			<type>skin_css</type>
			<name>onestic/checkout/bootstrap/css/bootstrap.min.css</name>
		</action>
	</reference>

	<reference name="content">
		<reference name="customer_form_register">
			<action method="setTemplate">
				<template>onestic/checkout/persistent/customer/form/register.phtml</template>
			</action>
		</reference>
	</reference>
</customer_account_create>

<customer_account_edit translate="label">
	<reference name="head">
		<action method="addItem">
			<type>skin_css</type>
			<name>onestic/checkout/css/style.css</name>
		</action>

		<action method="addItem">
			<type>skin_css</type>
			<name>onestic/checkout/bootstrap/css/bootstrap.min.css</name>
		</action>

		<action method="addItem">
			<type>skin_js</type>
			<name>onestic/checkout/js/validation.js</name>
		</action>
	</reference>

	<reference name="customer_edit">
		<action method="setTemplate">
			<template>onestic/checkout/customer/form/edit.phtml</template>
		</action>
	</reference>
</customer_account_edit>

<customer_address_form translate="label">
	<reference name="head">
		<action method="addItem">
			<type>skin_css</type>
			<name>onestic/checkout/css/style.css</name>
		</action>

		<action method="addItem">
			<type>skin_js</type>
			<name>onestic/checkout/bootstrap/css/bootstrap.min.css</name>
		</action>

		<action method="addItem">
			<type>skin_js</type>
			<name>onestic/checkout/js/validation.js</name>
		</action>
	</reference>

	<reference name="customer_address_edit">
		<action method="setTemplate">
			<template>onestic/checkout/customer/address/edit.phtml</template>
		</action>
	</reference>
</customer_address_form>

</layout>
