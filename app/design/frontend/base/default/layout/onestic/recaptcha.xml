<?xml version="1.0"?>
<layout version="0.1.0">
    <default>
        <block type="onestic_recaptcha/index" name="onestic.recaptcha.js"
               template="onestic/recaptcha/js.phtml"/>
        <block type="onestic_recaptcha/index" name="onestic.recaptcha.widget"
               template="onestic/recaptcha/widget.phtml"/>
        <reference name="before_body_end" ifconfig="onestic_recaptcha/config/allpages">
            <action method="append" ifconfig="onestic_recaptcha/config/allpages">
                <block>onestic.recaptcha.js</block>
            </action>
            <action method="append" ifconfig="onestic_recaptcha/config/allpages">
                <block>onestic.recaptcha.widget</block>
            </action>
        </reference>
        <reference name="head">
            <action method="addItem" ifconfig="onestic_recaptcha/config/allpages">
                <type>skin_js</type>
                <name>js/onestic/recaptcha/recaptcha.js</name>
            </action>
        </reference>
    </default>

    <customer_account_create>
        <reference name="before_body_end" ifconfig="onestic_recaptcha/config/createaccount">
            <action method="append" ifconfig="onestic_recaptcha/config/createaccount">
                <block>onestic.recaptcha.js</block>
            </action>
            <action method="append" ifconfig="onestic_recaptcha/config/createaccount">
                <block>onestic.recaptcha.widget</block>
            </action>
        </reference>
        <reference name="head">
            <action method="addItem" ifconfig="onestic_recaptcha/config/createaccount">
                <type>skin_js</type>
                <name>js/onestic/recaptcha/recaptcha.js</name>
            </action>
        </reference>
    </customer_account_create>

    <customer_account_forgotpassword>
        <reference name="before_body_end" ifconfig="onestic_recaptcha/config/forgotpassword">
            <action method="append" ifconfig="onestic_recaptcha/config/forgotpassword">
                <block>onestic.recaptcha.js</block>
            </action>
            <action method="append" ifconfig="onestic_recaptcha/config/forgotpassword">
                <block>onestic.recaptcha.widget</block>
            </action>
        </reference>
        <reference name="head">
            <action method="addItem" ifconfig="onestic_recaptcha/config/forgotpassword">
                <type>skin_js</type>
                <name>js/onestic/recaptcha/recaptcha.js</name>
            </action>
        </reference>
    </customer_account_forgotpassword>

    <contacts_index_index>
        <reference name="before_body_end" ifconfig="onestic_recaptcha/config/contactpage">
            <action method="append" ifconfig="onestic_recaptcha/config/contactpage">
                <block>onestic.recaptcha.js</block>
            </action>
            <action method="append" ifconfig="onestic_recaptcha/config/contactpage">
                <block>onestic.recaptcha.widget</block>
            </action>
        </reference>
        <reference name="head">
            <action method="addItem" ifconfig="onestic_recaptcha/config/contactpage">
                <type>skin_js</type>
                <name>js/onestic/recaptcha/recaptcha.js</name>
            </action>
        </reference>
    </contacts_index_index>
</layout>