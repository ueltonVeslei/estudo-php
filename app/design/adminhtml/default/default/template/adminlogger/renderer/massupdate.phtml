<?php
/**
 * Magpleasure Ltd.
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the EULA
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://www.magpleasure.com/LICENSE.txt
 *
 * @category   Magpleasure
 * @package    Magpleasure_Adminlogger
 * @copyright  Copyright (c) 2012 Magpleasure Ltd. (http://www.magpleasure.com)
 * @license    http://www.magpleasure.com/LICENSE.txt
 */
?>
<div class="mp-al-summary">
    <ul>
    <?php foreach ($this->getProducts() as $product): ?>
        <li><?php echo $product->getName(); ?>&nbsp;(<a href="<?php echo $this->getProductUrl($product); ?>" target="_blank"><?php echo $this->__("View"); ?></a>)</li>
    <?php endforeach; ?>
    </ul>
</div>
<?php if (count($this->getUpdateDetails())): ?>
<table class="data">
    <thead>
        <tr class="headings">
            <th><span class="nobr"><?php echo $this->__('Attribute Code') ?></span></th>
            <th><span class="nobr"><?php echo $this->__('To') ?></span></th>
        </tr>
    </thead>
    <tbody>
        <?php foreach($this->getUpdateDetails() as $detail): ?>
        <?php $htmlEscape = !$detail->getDiffRequired(); ?>
        <tr>
            <td><span><?php echo $this->escapeHtml($detail->getAttributeCode()); ?></span></td>
            <td><span><?php echo $htmlEscape ? $this->escapeHtml($detail->getTo()) : $detail->getTo(); ?></span></td>
        </tr>
        <?php endforeach; ?>
    </tbody>
</table>
<?php endif; ?>